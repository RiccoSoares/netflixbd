DROP TABLE IF EXISTS REGIAO;
DROP TABLE IF EXISTS CONTA;
DROP TABLE IF EXISTS PERFIL;
DROP TABLE IF EXISTS GENERO;
DROP TABLE IF EXISTS DIRETOR;
DROP TABLE IF EXISTS ATOR;
DROP TABLE IF EXISTS CONTEUDO;
DROP TABLE IF EXISTS DISPONIVEL_EM;
DROP TABLE IF EXISTS ASSITIR;

CREATE TABLE REGIAO
	(nome VARCHAR(200) NOT NULL,
PRIMARY KEY(nome));
 
CREATE TABLE  CONTA
	(email VARCHAR(254) NOT NULL,
	plano NUMERIC(3) NOT NULL,
	telasonline NUMERIC(1) NOT NULL,
	cpf NUMERIC(11) NOT NULL UNIQUE,
	cartao_titular VARCHAR(26) NOT NULL,
	cartao_numero NUMERIC(19) NOT NULL,
	cartao_cvv NUMERIC(4) NOT NULL,
	cartao_val DATE NOT NULL,
	senha VARCHAR(64) NOT NULL,
PRIMARY KEY (email));

CREATE TABLE PERFIL
	(email_conta VARCHAR(254) NOT NULL,
	nome VARCHAR(50) NOT NULL,
	imagem VARCHAR(255) NOT NULL,
	regiao VARCHAR(20),
PRIMARY KEY(email_conta, nome),
FOREIGN KEY(email_conta) REFERENCES CONTA(email));

CREATE TABLE GENERO
	(nome VARCHAR(30) NOT NULL,
PRIMARY KEY (nome));
 
CREATE TABLE DIRETOR
	(nome VARCHAR(150) NOT NULL,
PRIMARY KEY (nome));

CREATE TABLE ATOR
	(nome VARCHAR(150) NOT NULL,
PRIMARY KEY (nome));

CREATE TABLE CONTEUDO
	(id VARCHAR(30) NOT NULL,
	nome VARCHAR(150) NOT NULL,
	ano NUMERIC(4) NOT NULL,
	sinopse VARCHAR(400) NOT NULL,
	poster NUMERIC(5) NOT NULL UNIQUE,
	ci NUMERIC(2) NOT NULL,
	visu INT NOT NULL,
	original BOOLEAN NOT NULL,
PRIMARY KEY (id));
	
CREATE TABLE DISPONIVEL_EM
	(conteudo_id VARCHAR(30) NOT NULL,
	regiao_nome VARCHAR(200) NOT NULL,
FOREIGN KEY(conteudo_id) REFERENCES CONTEUDO(id),
FOREIGN KEY (regiao_nome) REFERENCES REGIAO(nome));
	
--CREATE TABLE ASSSITIR
--	(
	

	

SELECT * FROM REGIAO;
SELECT * FROM CONTA;
SELECT * FROM PERFIL;
SELECT * FROM GENERO;
SELECT * FROM DIRETOR;
SELECT * FROM ATOR;
SELECT * FROM CONTEUDO;
SELECT * FROM DISPONIVEL_EM;
--SELECT * FROM ASSISTIR;


